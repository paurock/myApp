<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="minimum-scale=1.0, width=device-width, maximum-scale=1.0, user-scalable=no"/>
<meta charset="utf-8">
<script src="https://unpkg.com/prop-types/prop-types.js"></script>
<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
<script src="https://unpkg.com/redux@3.7.2/dist/redux.min.js"></script>
<script src="https://unpkg.com/node-uuid@1.4.7/uuid.js"></script>
<title>Testing Area</title>
<style type='text/css'>
.hide {
	display: none 
}
</style>
</head>
<body>
<div id="react-container"></div>
<script type="text/babel">
const { Component } = React
const { render } = ReactDOM

const limitLevel = -2

/////////////Function that shows Menu//////////////////////

const MenuItem = ({title, id, level, show, parentItem, onClick=f=>f}) => <div className={(show) ? "show" : "hide"} onClick={()=> onClick(title, id, level, parentItem)}>{title}</div>

const MenuItemList = ({menu=[], onClick=f=>f}) => <div className="menuItem">{menu.map( menuItem => 
	<MenuItem key={menuItem.id} {...menuItem} onClick={(title, id, level, parentItem)=> onClick(title, id, level, parentItem)}/>
)}
</div>


/*/////////////////// App //////////////////*/

class App extends Component {	
	state = {
		menu: [
			{
				"title": "Material", 
				"level": 0,
				"id": uuid.v4(),
				"parentItem":"Material",
				"show": true, 
			}, 
			{
				"title": "Spiritual", 
				"level": 0,
				"id": uuid.v4(),
				"parentItem":"Sprirtual",
				"show": true 				
			}, 
			{
				"title": "Career", 
				"level": -1,
				"id": uuid.v4(),
				"parentItem":"Material",
				"show": false,				 
			}, 
			{
				"title": "Private Life", 
				"level": -1,
				"id": uuid.v4(),
				"parentItem":"Material",
				"show": false,				
			},
			{
				"title": "Education", 
				"level": -2,
				"id": uuid.v4(),
				"parentItem":"Career",
				"show": false,				 
			}, 
			{
				"title": "Work", 
				"level": -2,
				"id": uuid.v4(),
				"parentItem":"Career",
				"show": false,				 
			},
			{
				"title": "Creativity", 
				"level": -1,
				"id": uuid.v4(),
				"parentItem":"Spiritual",
				"show": false,				 
			}, 
		]
	}
/*After a click Fn shows every Item that one level deeper and have a common parent */	
	onClick = (title, id, level, parentItem) => {	
		let { menu } = this.state
		menu = menu.map( item => 
			(item.level > limitLevel) ? 
				if (item.level <= level && item.parentItem == title) {	
					return {...item, "show": true, "hello":"it's me"} 
					} else {
					return {...item, "show": false, "hello":"Not Me!"} 
				} 
			: {}
		
	)
		
	this.setState({menu})
	console.log(menu, level, parentItem,  title )	
	}
	

	render() {
		const {menu} = this.state 
		return <div className="show-result"> 					 
		<MenuItemList menu = {menu} onClick={(title, id, level, parentItem)=> this.onClick(title, id, level, parentItem)}/>
		</div>		
	}
}
/*//////////////////////////Render/////////////////////////*/	


render(
<App/>,
document.getElementById('react-container')
) 
</script>
</body>
</html>			