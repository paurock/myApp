<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="minimum-scale=1.0, width=device-width, maximum-scale=1.0, user-scalable=no"/>
<meta charset="utf-8">
<script src="https://unpkg.com/prop-types/prop-types.js"></script>
<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
<script src="https://unpkg.com/redux@3.7.2/dist/redux.min.js"></script>
<script src="https://unpkg.com/node-uuid@1.4.7/uuid.js"></script>
<title>Strongly Typed Notepad</title>
</head>
<body>
<div id="react-container"></div>
<script type="text/babel">
const { Component } = React
const { render } = ReactDOM

const AddMessage = ({onNewText=f=>f}) => {
		let _message
		const submit = e => {
		e.preventDefault()
		onNewText(_message.value)
		_message.value = ''
		_message.focus()
	}
 return (
	<form onSubmit={submit}>
	<input ref={input => _message = input}
	type="text"
	placeholder="Enter your message here" required/>
	<button>ADD</button>
	</form>
 )
}


const Note = ({message, id, onRemove=f=>f}) => <div className="note">{message}
	<button onClick={()=>onRemove(id)}>X</button>
</div>

///////////////////NoteLIST/////////////////////////////
const NoteList = ({notes=[], onRemove=f=>f}) => <div> 
	{(notes.length === 0) ?
		<p>No Notes Listed. (Add a Note)</p> :
	notes.map(note =>
	<Note key={note.id} 
			{...note} 
			onRemove={id=>onRemove(id)}></Note>		
		)
 }
</div>

//////////////////// App ///////////////////

class App extends Component {	
	state = {
		notes: [
				{
					message: "First Note",
					id: uuid.v4(),			
				}
			]
		}	
	onRemove = id => {
		const notes = this.state.notes.filter(
		note => note.id !== id		
		)
	this.setState({notes})
	console.log("Deleted")
	}	
	
	addNote = text => {
	const notes = [
					...this.state.notes,
					{
						message: text,
						id: uuid.v4(),
					}
		]
	this.setState({notes})
	}
	
	render() {
		const {notes} = this.state
		return <div className="note-list"> 
		<NoteList notes={notes} onRemove={id=>this.onRemove(id)}/>
		<AddMessage onNewText={(text)=>this.addNote(text)}/>
		</div>		
		}
	}
///////////////////////////Render//////////////////////////	
render(
<App/>,
document.getElementById('react-container')
) 
</script>
</body>
</html>